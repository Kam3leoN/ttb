(function(){"use strict";function b(l){return new Promise((t,e)=>{const s=new Audio(l);s.onended=()=>t(),s.onerror=()=>e(new Error(`Failed to play audio: ${l}`)),s.play().catch(e)})}function k(l,t){return t?b(l):null}class A{constructor(){this.state="muted",this.soundtrack=null,this.audioSrc="./audios/sounds/"}init(t){this.soundtrack=t,this.soundtrack&&(this.soundtrack.volume=.5,this.soundtrack.loop=!0),this.setMuted(!0)}setMuted(t){this.state=t?"muted":"unmuted",this.soundtrack&&(this.soundtrack.volume=t?0:.5),document.querySelectorAll("audio").forEach(e=>{e.volume=t?0:.5})}toggleMute(){this.setMuted(this.state==="unmuted")}getState(){return this.state}play(t){b(`${this.audioSrc}${t}`)}playIfNotMuted(t){k(`${this.audioSrc}${t}`,this.state==="unmuted")}playSoundtrack(){this.soundtrack&&this.state==="unmuted"&&this.soundtrack.play().catch(console.error)}pauseSoundtrack(){this.soundtrack&&(this.soundtrack.pause(),this.soundtrack.currentTime=0)}setAudioSrc(t){this.audioSrc=t}}const M=["JAN","FEV","MAR","AVR","MAI","JUN","JUL","AOU","SEP","OCT","NOV","DEC"];function D(l){const t=l.getDate(),e=M[l.getMonth()],s=l.getFullYear();let i=l.getHours();const n=l.getMinutes(),o=l.getSeconds(),r=i<12;return i=i%12,i=i||12,{month:e,day:L(t),year:s.toString(),hour:L(i),minute:L(n),second:L(o),isAM:r}}function L(l){return l<10?`0${l}`:`${l}`}function a(l){return document.getElementById(l)}function v(l){return document.querySelector(l)}function C(l){return document.querySelectorAll(l)}function g(l){const t=typeof l=="string"?parseInt(l,10):l;return t<10?`0${t}`:`${t}`}class T{constructor(){this.updateActive=!0,this.intervalId=null}start(){this.updateActive=!0,this.update()}stop(){this.updateActive=!1,this.intervalId!==null&&(clearTimeout(this.intervalId),this.intervalId=null)}update(){if(!this.updateActive){this.intervalId=window.setTimeout(()=>this.update(),1e3);return}const t=D(new Date);this.updatePresentTime(t),this.intervalId=window.setTimeout(()=>this.update(),1e3)}updatePresentTime(t){const e=a("present-month"),s=a("present-day"),i=a("present-year"),n=a("present-hour"),o=a("present-minute"),r=a("am-present"),c=a("pm-present");e&&(e.textContent=t.month),s&&(s.textContent=t.day),i&&(i.textContent=t.year),n&&(n.textContent=t.hour),o&&(o.textContent=t.minute),r&&c&&(t.isAM?(r.classList.add("light-on"),r.classList.remove("light-off"),c.classList.add("light-off"),c.classList.remove("light-on")):(r.classList.add("light-off"),r.classList.remove("light-on"),c.classList.add("light-on"),c.classList.remove("light-off")))}isUpdateActive(){return this.updateActive}setUpdateActive(t){this.updateActive=t}getCurrentDateTime(){return D(new Date)}getMonths(){return M}}class E{constructor(t){const e=this.parseDate(t.date||"01/01/1972"),s=this.parseHour(t.hour||"00:00:00");this.options={...t,month:t.month||e.month,day:t.day||e.day,year:t.year||e.year,hour:s.hour,minute:t.minute||s.minute,second:t.second||s.second,isAM:t.isAM??s.isAM,text:t.text||""},this.type=t.type,this.container=null}parseDate(t){if(t==="today"){const s=new Date;return{month:["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][s.getMonth()],day:String(s.getDate()).padStart(2,"0"),year:String(s.getFullYear())}}const e=t.split("/");if(e.length===3){const s=["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],i=parseInt(e[0],10)-1;return{month:s[i]||"JAN",day:e[1].padStart(2,"0"),year:e[2]}}return{month:"JAN",day:"01",year:"1972"}}parseHour(t){if(t==="today"){const s=new Date;let i=s.getHours();const n=i<12,o=i===0?12:i>12?i-12:i;return{hour:String(o).padStart(2,"0"),minute:String(s.getMinutes()).padStart(2,"0"),second:String(s.getSeconds()).padStart(2,"0"),isAM:n}}const e=t.split(":");if(e.length>=2){const s=parseInt(e[0],10),i=s<12,n=s===0?12:s>12?s-12:s;return{hour:String(n).padStart(2,"0"),minute:e[1].padStart(2,"0"),second:e[2]?e[2].padStart(2,"0"):"00",isAM:i}}return{hour:"00",minute:"00",second:"00",isAM:!0}}init(){this.options.container&&this.createHTML()}createHTML(){const t=typeof this.options.container=="string"?v(this.options.container):this.options.container;if(!t)throw new Error(`Container not found for TimeCircuit ${this.type}`);this.container=t;const e=this.type==="destination"?"destination":this.type==="present"?"present":"departed",s=document.createElement("div");s.className=`individual-time-circuit-wrapper-area ${e}`;const i=document.createElement("div");i.className="individual-time-circuit-content";const n=document.createElement("div");n.className="row-of-labels",n.innerHTML=`
      <div class="sticker-label month">MONTH</div>
      <div class="sticker-label day">DAY</div>
      <div class="sticker-label year">YEAR</div>
      <div class="sticker-label hour">HOUR</div>
      <div class="sticker-label min">MIN</div>
    `;const o=document.createElement("div");o.className="row-of-numbers-display-area",o.innerHTML=`
      <div class="console-display lcd console-month" id="${this.type}-month">${this.options.month||""}</div>
      <div class="console-display lcd console-day" id="${this.type}-day">${this.options.day||""}</div>
      <div class="console-display lcd console-year" id="${this.type}-year">${this.options.year||""}</div>
      <div class="console-display console-am-pm">
        <div class="am-label"></div>
        <div class="light am ${this.options.isAM?"light-on":"light-off"}" id="am-${this.type}"></div>
        <div class="pm-label"></div>
        <div class="light pm ${this.options.isAM?"light-off":"light-on"}" id="pm-${this.type}"></div>
      </div>
      <div class="console-display lcd console-hour" id="${this.type}-hour">${this.options.hour||""}</div>
      <div class="console-display colon">
        <div class="colon top"></div>
        <div class="colon bottom"></div>
      </div>
      <div class="console-display lcd console-minute" id="${this.type}-minute">${this.options.minute||""}</div>
      <div class="console-display colon">
        <div class="colon top"></div>
        <div class="colon bottom"></div>
      </div>
      <div class="console-display lcd console-second" id="${this.type}-second">${this.options.second||"00"}</div>
    `;const r=document.createElement("div");r.className="footer-label",r.textContent=this.options.text||"",i.appendChild(n),i.appendChild(o),i.appendChild(r),s.appendChild(i),this.container.appendChild(s)}update(t){const e=a(`${this.type}-month`),s=a(`${this.type}-day`),i=a(`${this.type}-year`),n=a(`${this.type}-hour`),o=a(`${this.type}-minute`),r=a(`am-${this.type}`),c=a(`pm-${this.type}`);e&&(e.textContent=t.month),s&&(s.textContent=t.day),i&&(i.textContent=t.year),n&&(n.textContent=t.hour),o&&(o.textContent=t.minute),r&&c&&(t.isAM?(r.classList.add("light-on"),r.classList.remove("light-off"),c.classList.add("light-off"),c.classList.remove("light-on")):(r.classList.add("light-off"),r.classList.remove("light-on"),c.classList.add("light-on"),c.classList.remove("light-off")))}getDateTime(){const t=a(`${this.type}-month`),e=a(`${this.type}-day`),s=a(`${this.type}-year`),i=a(`${this.type}-hour`),n=a(`${this.type}-minute`),o=a(`am-${this.type}`);return{month:(t==null?void 0:t.textContent)||"",day:(e==null?void 0:e.textContent)||"",year:(s==null?void 0:s.textContent)||"",hour:(i==null?void 0:i.textContent)||"",minute:(n==null?void 0:n.textContent)||"",isAM:(o==null?void 0:o.classList.contains("light-on"))||!1}}getType(){return this.type}}class w{constructor(t){this.animation=null,this.min=t.min,this.max=t.max,this.current=t.current,this.element=t.element}init(){this.updateDisplay()}updateDisplay(){this.element&&(this.element.textContent=g(this.current))}setSpeed(t){this.current=Math.max(this.min,Math.min(this.max,t)),this.updateDisplay()}getSpeed(){return this.current}reset(){this.cancelAnimation(),this.current=this.min,this.updateDisplay()}cancelAnimation(){this.animation&&(this.animation.cancel(),this.animation=null)}animate(){this.cancelAnimation(),this.current=this.min;let t=!1;const e=1e3,s=Date.now(),i=()=>{if(t)return;const o=Date.now()-s,r=Math.min(o/e,1),c=1-Math.pow(1-r,3);this.current=Math.floor(0+80*c),this.updateDisplay(),r<1?requestAnimationFrame(i):(this.current=80,n())},n=()=>{if(t)return;let o=80;const r=150;let c=0;const h=()=>{t||(o=80+c,this.current=o,this.updateDisplay(),c++,o<88?setTimeout(h,r):this.animation=null)};h()};this.animation={cancel:()=>{t=!0}},i()}}class S{constructor(t){this.input="",this.modal=a("keypad-modal"),this.displayDate=a("keypad-display-date"),this.displayTime=a("keypad-display-time"),this.mode="destination",this.audioManager=t}init(){const t=v(".date"),e=C(".mode-btn"),s=C(".keypad-key");t&&t.addEventListener("click",()=>this.open()),this.modal&&this.modal.addEventListener("click",i=>{i.target===this.modal&&this.close()}),e.forEach(i=>{i.addEventListener("click",()=>{const n=i.getAttribute("data-mode");this.setMode(n)})}),s.forEach(i=>{i.addEventListener("click",()=>{const n=i.getAttribute("data-key");n&&this.handleKey(n)})}),document.addEventListener("keydown",i=>{if(!this.modal||!this.modal.classList.contains("active"))return;let n=null;if(i.key>="0"&&i.key<="9")n=i.key;else if(i.key==="Enter"||i.key==="Return")n="enter";else if(i.key==="Escape"||i.key==="Esc"){this.close();return}else(i.key==="Backspace"||i.key==="Delete")&&(n="backspace");n!==null&&(i.preventDefault(),this.animateKey(n),this.handleKey(n))})}open(){this.modal&&(this.modal.classList.add("active"),this.mode="destination",this.input="",this.updateDisplay(),this.updateModeButtons())}close(){this.modal&&(this.modal.classList.remove("active"),this.input="",this.updateDisplay())}setMode(t){this.mode=t,this.input="",this.updateDisplay(),this.updateModeButtons()}updateModeButtons(){C(".mode-btn").forEach(e=>{if(e.disabled){e.classList.remove("active");return}e.getAttribute("data-mode")===this.mode?e.classList.add("active"):e.classList.remove("active")})}animateKey(t){const e=v(`.keypad-key[data-key="${t}"]`);e&&(e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},150))}getDialAudio(t){const e=parseInt(t,10);return e===1||e===4||e===7?"bttf-dial-1.mp3":e===2||e===5||e===8||e===0?"bttf-dial-2.mp3":"bttf-dial-3.mp3"}handleKey(t){t==="clear"?(this.input="",this.updateDisplay(),this.audioManager.play("bttf-input-button.mp3")):t==="backspace"?this.input.length>0?(this.input=this.input.substring(0,this.input.length-1),this.updateDisplay(),this.audioManager.playIfNotMuted("bttf-dial-1.mp3")):this.audioManager.play("bttf-input-error.mp3"):t==="enter"?(this.processInput(),this.audioManager.play("bttf-input-button.mp3")):this.input.length<12?(this.input+=t,this.updateDisplay(),this.audioManager.playIfNotMuted(this.getDialAudio(t))):this.audioManager.play("bttf-input-error.mp3")}updateDisplay(){if(!this.displayDate||!this.displayTime)return;if(this.input.length===0){this.displayDate.textContent="MM/DD/YYYY",this.displayTime.textContent="HH:MM";return}const t="MM/DD/YYYY",e="HH:MM",s=t.split(""),i=e.split("");let n=0;for(let o=0;o<s.length&&n<this.input.length&&n<8;o++)s[o]!=="/"&&(s[o]=this.input[n],n++);for(let o=0;o<i.length&&n<this.input.length;o++)i[o]!==":"&&(i[o]=this.input[n],n++);this.displayDate.textContent=s.join(""),this.displayTime.textContent=i.join("")}processInput(){if(this.input.length===0){this.audioManager.play("bttf-input-error.mp3");return}const t=this.input.split("").map(Number),e=a("error");e&&(e.style.display="none"),this.mode==="destination"?this.processDestinationTime(t):this.mode==="present"?this.processPresentTime(t):this.mode==="departed"&&this.processDepartedTime(t),this.input="",this.updateDisplay(),this.close()}processDestinationTime(t){const e=a("error");if(t.length%2||t.length===6){e&&(e.textContent="* INVALID * INPUT",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}if(t.length>=2){const s=t[0]*10+t[1];if(s===0||s>12){e&&(e.textContent="* INVALID * MONTH",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const i=a("destination-month");i&&(i.textContent=M[s-1])}if(t.length>=4){const s=t[2]*10+t[3];if(s===0||s>31){e&&(e.textContent="* INVALID * DAY",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const i=a("destination-day");i&&(i.textContent=g(s))}if(t.length>=8){const s=t[4]*1e3+t[5]*100+t[6]*10+t[7],i=a("destination-year");i&&(i.textContent=s.toString())}if(t.length>=10){const s=t[8]*10+t[9];if(s>23){e&&(e.textContent="* INVALID * HOUR",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}let i=s;const n=a("am-destination"),o=a("pm-destination");s>12?(i=s-12,i<10&&(i=parseInt(`0${i}`)),n&&o&&(n.classList.add("light-off"),n.classList.remove("light-on"),o.classList.add("light-on"),o.classList.remove("light-off"))):(i<10&&(i=parseInt(`0${i}`)),n&&o&&(n.classList.add("light-on"),n.classList.remove("light-off"),o.classList.add("light-off"),o.classList.remove("light-on"))),s===12&&n&&o&&(n.classList.remove("light-on"),n.classList.add("light-off"),o.classList.add("light-on"),o.classList.remove("light-off"));const r=a("destination-hour");r&&(r.textContent=g(i))}if(t.length>=12){const s=t[10]*10+t[11];if(s>59){e&&(e.textContent="* INVALID * MINUTE",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const i=a("destination-minute");i&&(i.textContent=g(s))}this.audioManager.play("bttf-input-success.mp3")}processPresentTime(t){const e=a("error");if(t.length<12){e&&(e.textContent="* INCOMPLETE * INPUT",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const s=t[0]*10+t[1],i=t[2]*10+t[3],n=t[4]*1e3+t[5]*100+t[6]*10+t[7],o=t[8]*10+t[9],r=t[10]*10+t[11];if(s===0||s>12||i===0||i>31||o>23||r>59){e&&(e.textContent="* INVALID * INPUT",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const c=a("present-month"),h=a("present-day"),d=a("present-year"),f=a("present-hour"),y=a("present-minute"),u=a("am-present"),p=a("pm-present");c&&(c.textContent=M[s-1]),h&&(h.textContent=g(i)),d&&(d.textContent=n.toString());let m=o;o>12?(m=o-12,m<10&&(m=parseInt(`0${m}`)),u&&p&&(u.classList.add("light-off"),u.classList.remove("light-on"),p.classList.add("light-on"),p.classList.remove("light-off"))):(m<10&&(m=parseInt(`0${m}`)),u&&p&&(u.classList.add("light-on"),u.classList.remove("light-off"),p.classList.add("light-off"),p.classList.remove("light-on"))),o===12&&u&&p&&(u.classList.remove("light-on"),u.classList.add("light-off"),p.classList.add("light-on"),p.classList.remove("light-off")),f&&(f.textContent=g(m)),y&&(y.textContent=g(r)),this.audioManager.play("bttf-input-success.mp3")}processDepartedTime(t){const e=a("error");if(t.length<12){e&&(e.textContent="* INCOMPLETE * INPUT",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const s=t[0]*10+t[1],i=t[2]*10+t[3],n=t[4]*1e3+t[5]*100+t[6]*10+t[7],o=t[8]*10+t[9],r=t[10]*10+t[11];if(s===0||s>12||i===0||i>31||o>23||r>59){e&&(e.textContent="* INVALID * INPUT",e.style.display="block"),this.audioManager.play("bttf-input-error.mp3");return}const c=a("departed-month"),h=a("departed-day"),d=a("departed-year"),f=a("departed-hour"),y=a("departed-minute"),u=a("am-departed"),p=a("pm-departed");c&&(c.textContent=M[s-1]),h&&(h.textContent=g(i)),d&&(d.textContent=n.toString());let m=o;o>12?(m=o-12,m<10&&(m=parseInt(`0${m}`)),u&&p&&(u.classList.add("light-off"),u.classList.remove("light-on"),p.classList.add("light-on"),p.classList.remove("light-off"))):(m<10&&(m=parseInt(`0${m}`)),u&&p&&(u.classList.add("light-on"),u.classList.remove("light-off"),p.classList.add("light-off"),p.classList.remove("light-on"))),o===12&&u&&p&&(u.classList.remove("light-on"),u.classList.add("light-off"),p.classList.add("light-on"),p.classList.remove("light-off")),f&&(f.textContent=g(m)),y&&(y.textContent=g(r)),this.audioManager.play("bttf-input-success.mp3")}}class N{constructor(t){this.state="off",this.button=v(".start"),this.icon=a("start-icon"),this.audioManager=t}init(){this.button&&this.button.addEventListener("click",()=>this.toggle()),this.updateIcon()}toggle(){this.state==="off"?this.turnOn():this.turnOff()}turnOn(){this.audioManager.play("bttf-time-circuits-on.mp3"),this.state="on",this.updateIcon(),setTimeout(()=>{this.audioManager.playSoundtrack()},1500)}turnOff(){this.audioManager.play("bttf-time-circuits-off.mp3"),this.state="off",this.updateIcon(),this.audioManager.pauseSoundtrack()}updateIcon(){this.icon&&(this.icon.style.opacity=this.state==="on"?"1":"0.7")}getState(){return this.state}}class ${constructor(t,e,s,i,n,o,r){this.button=v(".reset"),this.audioManager=t,this.timeManager=e,this.speedometer=s,this.powerButton=i,this.destinationCircuit=n,this.presentCircuit=o,this.departedCircuit=r}init(){this.button&&this.button.addEventListener("click",()=>this.handleReset())}handleReset(){this.powerButton.getState()==="on"?(this.audioManager.play("power-up.mp3"),this.speedometer.reset(),this.resetDates(),this.powerButton.toggle(),this.audioManager.pauseSoundtrack(),setTimeout(()=>{this.powerButton.toggle(),this.audioManager.playSoundtrack(),setTimeout(()=>{this.speedometer.animate()},500)},3e3)):(this.speedometer.reset(),this.resetDates(),setTimeout(()=>{this.speedometer.animate()},500))}resetDates(){const t=this.presentCircuit.getDateTime();this.departedCircuit.update(t);const e=this.timeManager.getCurrentDateTime();this.presentCircuit.update({month:e.month,day:e.day,year:e.year,hour:e.hour,minute:e.minute,isAM:e.isAM}),this.destinationCircuit.update({month:"NOV",day:"12",year:"1955",hour:"06",minute:"39",isAM:!0});const s=a("error");s&&(s.style.display="none"),this.timeManager.setUpdateActive(!0)}}class B{constructor(t){this.button=a("mute-btn"),this.icon=a("mute-icon"),this.audioManager=t}init(){this.button&&this.button.addEventListener("click",()=>this.toggle()),this.updateIcon()}toggle(){this.audioManager.toggleMute(),this.updateIcon()}updateIcon(){this.icon&&(this.audioManager.getState()==="muted"?this.icon.src="assets/icons/volume-mute.svg":this.icon.src="assets/icons/volume.svg")}}class x{constructor(t,e,s,i,n,o,r){this.desTime=[],this.audioManager=t,this.timeManager=e,this.speedometer=s,this.powerButton=i,this.destinationCircuit=n,this.presentCircuit=o,this.departedCircuit=r}init(){window.addEventListener("keydown",t=>this.handleKeyDown(t))}handleKeyDown(t){const e=t.key;if(e>="0"&&e<="9"){this.setDesTime(e),this.audioManager.playIfNotMuted(`bttf-dial-${e==="1"||e==="4"||e==="7"?"1":e==="2"||e==="5"||e==="8"||e==="0"?"2":"3"}.mp3`);return}switch(e){case"Enter":this.inpDesTime(),this.audioManager.play("bttf-input-button.mp3");break;case"x":case"X":this.travelInTime();break;case"Escape":this.audioManager.play("bttf-input-button.mp3");break}}setDesTime(t){if(this.powerButton.getState()==="off")return;this.desTime.length<12?this.desTime.push(t):this.audioManager.play("bttf-input-error.mp3");const e=a("error");e&&(e.style.display="none")}inpDesTime(){if(this.powerButton.getState()==="off")return;const t=this.desTime,e=a("error");let s=!1;const i=()=>{if(t[0]==="0"&&t[1]==="0"||parseInt(t[0]+t[1])>12)e&&(e.textContent="* INVALID * MONTH",e.style.display="block"),s=!0;else{const h=parseInt(t[0]+t[1])-1,d=a("destination-month");d&&(d.textContent=M[h])}},n=()=>{if(t[2]==="0"&&t[3]==="0"||parseInt(t[2]+t[3])>31)e&&(e.textContent="* INVALID * DAY",e.style.display="block"),s=!0;else{const h=t[2]+t[3],d=a("destination-day");d&&(d.textContent=h)}},o=()=>{const h=t[4]+t[5]+t[6]+t[7],d=a("destination-year");d&&(d.textContent=h)},r=()=>{const h=parseInt(t[8]+t[9]);if(h>23)e&&(e.textContent="* INVALID * HOUR",e.style.display="block"),s=!0;else{let d=h;const f=a("am-destination"),y=a("pm-destination");h>12?(d=h-12,d<10&&(d=parseInt(`0${d}`)),f&&y&&(f.classList.add("light-off"),f.classList.remove("light-on"),y.classList.add("light-on"),y.classList.remove("light-off"))):(d<10&&(d=parseInt(`0${d}`)),f&&y&&(f.classList.add("light-on"),f.classList.remove("light-off"),y.classList.add("light-off"),y.classList.remove("light-on"))),h===12&&f&&y&&(f.classList.remove("light-on"),f.classList.add("light-off"),y.classList.add("light-on"),y.classList.remove("light-off"));const u=a("destination-hour");u&&(u.textContent=g(d))}},c=()=>{const h=parseInt(t[10]+t[11]);if(h>59)e&&(e.textContent="* INVALID * MINUTE",e.style.display="block"),s=!0;else{const d=a("destination-minute");d&&(d.textContent=g(h))}};t.length%2||t.length===6?(e&&(e.textContent="* INVALID * INPUT",e.style.display="block"),s=!0):t.length===2?i():t.length===4?(i(),n()):t.length===8?(i(),n(),o()):t.length===10?(i(),n(),o(),r()):t.length===12&&(i(),n(),o(),r(),c()),this.desTime.length===0||s?this.audioManager.play("bttf-input-error.mp3"):this.audioManager.play("bttf-input-success.mp3"),this.desTime=[],this.audioManager.play("bttf-input-button.mp3")}travelInTime(){if(this.powerButton.getState()==="off"){this.audioManager.play("bttf-input-error.mp3");return}const t=this.presentCircuit.getDateTime();this.departedCircuit.update(t);const e=this.destinationCircuit.getDateTime();this.presentCircuit.update(e),this.timeManager.setUpdateActive(!1),this.speedometer.animate(),this.audioManager.play("bttf-input-success.mp3")}}class I{init(){this.audioManager=new A,this.timeManager=new T;const t=a("soundtrack");this.audioManager.init(t);const e=a("speedometer-value");if(e)this.speedometer=new w({min:0,max:88,current:0,element:e}),this.speedometer.init();else throw new Error("Speedometer element not found");this.destinationCircuit=new E({type:"destination",date:"11/12/1955",hour:"06:39:00",text:"DESTINATION TIME"}),this.presentCircuit=new E({type:"present",date:"today",hour:"today",text:"PRESENT TIME"}),this.departedCircuit=new E({type:"departed",date:"10/26/1985",hour:"01:21:00",text:"LAST DEPARTED TIME"}),this.destinationCircuit.init(),this.presentCircuit.init(),this.departedCircuit.init(),this.powerButton=new N(this.audioManager),this.powerButton.init(),this.muteButton=new B(this.audioManager),this.muteButton.init(),this.keypad=new S(this.audioManager),this.keypad.init(),this.resetButton=new $(this.audioManager,this.timeManager,this.speedometer,this.powerButton,this.destinationCircuit,this.presentCircuit,this.departedCircuit),this.resetButton.init(),this.keyboardController=new x(this.audioManager,this.timeManager,this.speedometer,this.powerButton,this.destinationCircuit,this.presentCircuit,this.departedCircuit),this.keyboardController.init(),this.timeManager.start()}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{new I().init()}):new I().init()})();
